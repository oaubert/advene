
diff -Nur libvorbis-1.3.7-orig/lib/Makefile.am libvorbis-1.3.7/lib/Makefile.am
--- libvorbis-1.3.7-orig/lib/Makefile.am	2023-10-28 15:20:43
+++ libvorbis-1.3.7/lib/Makefile.am	2023-10-28 15:52:58
@@ -40,7 +40,7 @@
 # build and run the self tests on 'make check'
 
 #vorbis_selftests = test_codebook test_sharedbook
-vorbis_selftests = test_sharedbook
+vorbis_selftests = 
 
 noinst_PROGRAMS = $(vorbis_selftests)
 
@@ -49,10 +49,6 @@
 
 #test_codebook_SOURCES = codebook.c
 #test_codebook_CFLAGS = -D_V_SELFTEST
-
-test_sharedbook_SOURCES = sharedbook.c
-test_sharedbook_CFLAGS = -D_V_SELFTEST
-test_sharedbook_LDADD = @VORBIS_LIBS@
 
 # recurse for alternate targets
 
diff -Nur libvorbis-1.3.7-orig/lib/Makefile.in libvorbis-1.3.7/lib/Makefile.in
--- libvorbis-1.3.7-orig/lib/Makefile.in	2023-10-28 15:20:43
+++ libvorbis-1.3.7/lib/Makefile.in	2023-10-28 16:01:44
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.16.2 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2020 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -105,7 +105,7 @@
 CONFIG_HEADER = $(top_builddir)/config.h
 CONFIG_CLEAN_FILES =
 CONFIG_CLEAN_VPATH_FILES =
-am__EXEEXT_1 = test_sharedbook$(EXEEXT)
+am__EXEEXT_1 =
 PROGRAMS = $(noinst_PROGRAMS)
 am__vpath_adj_setup = srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`;
 am__vpath_adj = case $$p in \
@@ -172,13 +172,6 @@
 psytune_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(psytune_LDFLAGS) $(LDFLAGS) -o $@
-am_test_sharedbook_OBJECTS = test_sharedbook-sharedbook.$(OBJEXT)
-test_sharedbook_OBJECTS = $(am_test_sharedbook_OBJECTS)
-test_sharedbook_DEPENDENCIES =
-test_sharedbook_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \
-	$(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \
-	$(test_sharedbook_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) \
-	-o $@
 am_tone_OBJECTS = tone.$(OBJEXT)
 tone_OBJECTS = $(am_tone_OBJECTS)
 tone_LDADD = $(LDADD)
@@ -207,8 +200,7 @@
 	./$(DEPDIR)/psy.Plo ./$(DEPDIR)/psytune.Po \
 	./$(DEPDIR)/registry.Plo ./$(DEPDIR)/res0.Plo \
 	./$(DEPDIR)/sharedbook.Plo ./$(DEPDIR)/smallft.Plo \
-	./$(DEPDIR)/synthesis.Plo \
-	./$(DEPDIR)/test_sharedbook-sharedbook.Po ./$(DEPDIR)/tone.Po \
+	./$(DEPDIR)/synthesis.Plo ./$(DEPDIR)/tone.Po \
 	./$(DEPDIR)/vorbisenc.Plo ./$(DEPDIR)/vorbisfile.Plo \
 	./$(DEPDIR)/window.Plo
 am__mv = mv -f
@@ -232,10 +224,10 @@
 am__v_CCLD_1 = 
 SOURCES = $(libvorbis_la_SOURCES) $(libvorbisenc_la_SOURCES) \
 	$(libvorbisfile_la_SOURCES) $(barkmel_SOURCES) \
-	$(psytune_SOURCES) $(test_sharedbook_SOURCES) $(tone_SOURCES)
+	$(psytune_SOURCES) $(tone_SOURCES)
 DIST_SOURCES = $(libvorbis_la_SOURCES) $(libvorbisenc_la_SOURCES) \
 	$(libvorbisfile_la_SOURCES) $(barkmel_SOURCES) \
-	$(psytune_SOURCES) $(test_sharedbook_SOURCES) $(tone_SOURCES)
+	$(psytune_SOURCES) $(tone_SOURCES)
 RECURSIVE_TARGETS = all-recursive check-recursive cscopelist-recursive \
 	ctags-recursive dvi-recursive html-recursive info-recursive \
 	install-data-recursive install-dvi-recursive \
@@ -274,8 +266,6 @@
   unique=`for i in $$list; do \
     if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
   done | $(am__uniquify_input)`
-ETAGS = etags
-CTAGS = ctags
 DIST_SUBDIRS = $(SUBDIRS)
 am__DIST_COMMON = $(srcdir)/Makefile.in $(top_srcdir)/depcomp
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
@@ -320,6 +310,8 @@
 CFLAGS = @CFLAGS@
 CPP = @CPP@
 CPPFLAGS = @CPPFLAGS@
+CSCOPE = @CSCOPE@
+CTAGS = @CTAGS@
 CYGPATH_W = @CYGPATH_W@
 DEBUG = @DEBUG@
 DEFS = @DEFS@
@@ -331,6 +323,7 @@
 ECHO_N = @ECHO_N@
 ECHO_T = @ECHO_T@
 EGREP = @EGREP@
+ETAGS = @ETAGS@
 EXEEXT = @EXEEXT@
 FGREP = @FGREP@
 GREP = @GREP@
@@ -476,13 +469,7 @@
 # build and run the self tests on 'make check'
 
 #vorbis_selftests = test_codebook test_sharedbook
-vorbis_selftests = test_sharedbook
-
-#test_codebook_SOURCES = codebook.c
-#test_codebook_CFLAGS = -D_V_SELFTEST
-test_sharedbook_SOURCES = sharedbook.c
-test_sharedbook_CFLAGS = -D_V_SELFTEST
-test_sharedbook_LDADD = @VORBIS_LIBS@
+vorbis_selftests = 
 all: all-recursive
 
 .SUFFIXES:
@@ -578,10 +565,6 @@
 	@rm -f psytune$(EXEEXT)
 	$(AM_V_CCLD)$(psytune_LINK) $(psytune_OBJECTS) $(psytune_LDADD) $(LIBS)
 
-test_sharedbook$(EXEEXT): $(test_sharedbook_OBJECTS) $(test_sharedbook_DEPENDENCIES) $(EXTRA_test_sharedbook_DEPENDENCIES) 
-	@rm -f test_sharedbook$(EXEEXT)
-	$(AM_V_CCLD)$(test_sharedbook_LINK) $(test_sharedbook_OBJECTS) $(test_sharedbook_LDADD) $(LIBS)
-
 tone$(EXEEXT): $(tone_OBJECTS) $(tone_DEPENDENCIES) $(EXTRA_tone_DEPENDENCIES) 
 	@rm -f tone$(EXEEXT)
 	$(AM_V_CCLD)$(LINK) $(tone_OBJECTS) $(tone_LDADD) $(LIBS)
@@ -613,7 +596,6 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/sharedbook.Plo@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/smallft.Plo@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/synthesis.Plo@am__quote@ # am--include-marker
-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/test_sharedbook-sharedbook.Po@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/tone.Po@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vorbisenc.Plo@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vorbisfile.Plo@am__quote@ # am--include-marker
@@ -646,20 +628,6 @@
 @AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
 @am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(LTCOMPILE) -c -o $@ $<
 
-test_sharedbook-sharedbook.o: sharedbook.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(test_sharedbook_CFLAGS) $(CFLAGS) -MT test_sharedbook-sharedbook.o -MD -MP -MF $(DEPDIR)/test_sharedbook-sharedbook.Tpo -c -o test_sharedbook-sharedbook.o `test -f 'sharedbook.c' || echo '$(srcdir)/'`sharedbook.c
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/test_sharedbook-sharedbook.Tpo $(DEPDIR)/test_sharedbook-sharedbook.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='sharedbook.c' object='test_sharedbook-sharedbook.o' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(test_sharedbook_CFLAGS) $(CFLAGS) -c -o test_sharedbook-sharedbook.o `test -f 'sharedbook.c' || echo '$(srcdir)/'`sharedbook.c
-
-test_sharedbook-sharedbook.obj: sharedbook.c
-@am__fastdepCC_TRUE@	$(AM_V_CC)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(test_sharedbook_CFLAGS) $(CFLAGS) -MT test_sharedbook-sharedbook.obj -MD -MP -MF $(DEPDIR)/test_sharedbook-sharedbook.Tpo -c -o test_sharedbook-sharedbook.obj `if test -f 'sharedbook.c'; then $(CYGPATH_W) 'sharedbook.c'; else $(CYGPATH_W) '$(srcdir)/sharedbook.c'; fi`
-@am__fastdepCC_TRUE@	$(AM_V_at)$(am__mv) $(DEPDIR)/test_sharedbook-sharedbook.Tpo $(DEPDIR)/test_sharedbook-sharedbook.Po
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	$(AM_V_CC)source='sharedbook.c' object='test_sharedbook-sharedbook.obj' libtool=no @AMDEPBACKSLASH@
-@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
-@am__fastdepCC_FALSE@	$(AM_V_CC@am__nodep@)$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(test_sharedbook_CFLAGS) $(CFLAGS) -c -o test_sharedbook-sharedbook.obj `if test -f 'sharedbook.c'; then $(CYGPATH_W) 'sharedbook.c'; else $(CYGPATH_W) '$(srcdir)/sharedbook.c'; fi`
-
 mostlyclean-libtool:
 	-rm -f *.lo
 
@@ -764,7 +732,6 @@
 
 distclean-tags:
 	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
-
 distdir: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) distdir-am
 
@@ -826,6 +793,8 @@
 check-am: all-am
 check: check-recursive
 all-am: Makefile $(PROGRAMS) $(LTLIBRARIES)
+install-EXTRAPROGRAMS: install-libLTLIBRARIES
+
 installdirs: installdirs-recursive
 installdirs-am:
 	for dir in "$(DESTDIR)$(libdir)"; do \
@@ -889,7 +858,6 @@
 	-rm -f ./$(DEPDIR)/sharedbook.Plo
 	-rm -f ./$(DEPDIR)/smallft.Plo
 	-rm -f ./$(DEPDIR)/synthesis.Plo
-	-rm -f ./$(DEPDIR)/test_sharedbook-sharedbook.Po
 	-rm -f ./$(DEPDIR)/tone.Po
 	-rm -f ./$(DEPDIR)/vorbisenc.Plo
 	-rm -f ./$(DEPDIR)/vorbisfile.Plo
@@ -960,7 +928,6 @@
 	-rm -f ./$(DEPDIR)/sharedbook.Plo
 	-rm -f ./$(DEPDIR)/smallft.Plo
 	-rm -f ./$(DEPDIR)/synthesis.Plo
-	-rm -f ./$(DEPDIR)/test_sharedbook-sharedbook.Po
 	-rm -f ./$(DEPDIR)/tone.Po
 	-rm -f ./$(DEPDIR)/vorbisenc.Plo
 	-rm -f ./$(DEPDIR)/vorbisfile.Plo
@@ -1006,6 +973,9 @@
 
 check: $(noinst_PROGRAMS)
 	./test_sharedbook$(EXEEXT)
+
+#test_codebook_SOURCES = codebook.c
+#test_codebook_CFLAGS = -D_V_SELFTEST
 
 # recurse for alternate targets
 